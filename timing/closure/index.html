<!doctype html>
<html>

<head>
    <title>Closure</title>
</head>

<body>
    <div id="date"></div>
</body>

<script>
    var txt = '';

    (function () {
        window.setInterval(() => {
            getAsync().then(s => {
                txt += s.dateS + ',' + s.dateR + '<br/>';

                const e = document.getElementById('date');
                e.innerHTML = txt;
            });
        }, 10000);
    })();

    function getAsync() {
        return new Promise((resolve, reject) => {
            const closure = () => {
                const d = Date.now();
                resolve({
                    dateS: new Date(d).toString(),
                    dateR: new Date(Date.now()).toString(),
                });
            }

            closure();
        });
    }
</script>